<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Python</title>
        <link rel="stylesheet" href="/css/maintheme.css" type="text/css" />
        <script src="/js/main.js" type="text/javascript" defer></script>
    </head>

    <body>
        <div class="header"></div>
        <div class="main">
            <div class="content">
                <h1 class="title">Python</h1>

                <h2>æ ¸å¿ƒç‰¹æ€§è§£æ</h2>
                <h3>è¯­è¨€å“²å­¦</h3>
                <blockquote>"ä¼˜ç¾ > æ¸…æ™° > ç®€å•" - The Zen of Python</blockquote>
                <p>Pythonè®¾è®¡å“²å­¦æ ¸å¿ƒåŸåˆ™ï¼š</p>
                <ul>
                    <li>æ˜¾å¼ä¼˜äºéšå¼</li>
                    <li>å•ä¸€èŒè´£åŸåˆ™</li>
                    <li>é”™è¯¯åº”è¯¥å°½æ—©æŠ›å‡º</li>
                </ul>

                <h2>æ•°æ®ç»“æ„è¿›é˜¶</h2>
                <h3>å­—å…¸æ–°ç‰¹æ€§</h3>
                <dl>
                    <dt>å­—å…¸åˆå¹¶</dt>
                    <dd>
                        <pre><code>merged = {**dict1, **dict2}</code></pre>
                    </dd>

                    <dt>å­—å…¸æ¨å¯¼å¼</dt>
                    <dd>
                        <pre><code>squared = {x: x**2 for x in range(10)}</code></pre>
                    </dd>

                    <dt>ä¿ç•™é¡ºåºç‰¹æ€§</dt>
                    <dd>ğŸ“Œ Python 3.7+ å­—å…¸ä¿æŒæ’å…¥é¡ºåº</dd>
                </dl>

                <h3>é›†åˆæ“ä½œ</h3>
                <dl>
                    <dt>æ•°å­¦é›†åˆè¿ç®—</dt>
                    <dd>
                        <pre><code>a = {1,2,3}
b = {3,4,5}
print(a & b)  # äº¤é›† {3}
print(a | b)  # å¹¶é›† {1,2,3,4,5}
print(a - b)  # å·®é›† {1,2}</code></pre>
                    </dd>
                </dl>

                <h2>å‡½æ•°å¼ç¼–ç¨‹</h2>
                <h3>ç”Ÿæˆå™¨è¡¨è¾¾å¼</h3>
                <dl>
                    <dt>å†…å­˜ä¼˜åŒ–ç¤ºä¾‹</dt>
                    <dd>
                        <pre><code># åˆ—è¡¨æ¨å¯¼å¼ï¼ˆå†…å­˜å…¨é‡å­˜å‚¨ï¼‰
squares_list = [x**2 for x in range(1000000)]

# ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼ˆæƒ°æ€§è®¡ç®—ï¼‰
squares_gen = (x**2 for x in range(1000000))</code></pre>
                        <p>ğŸ’¡ ä¼˜åŠ¿ï¼šå¤„ç†å¤§æ•°æ®æ—¶å†…å­˜æ•ˆç‡æå‡90%+</p>
                    </dd>
                </dl>

                <h3>è£…é¥°å™¨æ¨¡å¼</h3>
                <dl>
                    <dt>å¸¦å‚æ•°è£…é¥°å™¨</dt>
                    <dd>
                        <pre><code>def retry(max_attempts=3):
    def decorator(func):
        def wrapper(*args, **kwargs):
            for _ in range(max_attempts):
                try:
                    return func(*args, **kwargs)
                except Exception as e:
                    print(f"Retrying: {str(e)}")
            return func(*args, **kwargs)
        return wrapper
    return decorator

@retry(max_attempts=5)
def fetch_data():
    # ç½‘ç»œè¯·æ±‚ä»£ç ...</code></pre>
                    </dd>
                </dl>

                <h2>é¢å‘å¯¹è±¡ç¼–ç¨‹</h2>
                <h3>é­”æ³•æ–¹æ³•</h3>
                <dl>
                    <dt>__enter__å’Œ__exit__</dt>
                    <dd>
                        <pre><code>class FileManager:
    def __init__(self, filename, mode):
        self.filename = filename
        self.mode = mode
        self.file = None

    def __enter__(self):
        self.file = open(self.filename, self.mode)
        return self.file

    def __exit__(self, exc_type, exc_val, exc_tb):
        if self.file:
            self.file.close()

# ä½¿ç”¨ç¤ºä¾‹
with FileManager('demo.txt', 'w') as f:
    f.write('Hello World')</code></pre>
                        <p>ğŸ”’ å®‰å…¨ä¼˜åŠ¿ï¼šè‡ªåŠ¨èµ„æºç®¡ç†ï¼Œé¿å…æ–‡ä»¶å¥æŸ„æ³„æ¼</p>
                    </dd>
                </dl>

                <h2>å¼‚æ­¥ç¼–ç¨‹</h2>
                <h3>async/awaitè¯­æ³•</h3>
                <dl>
                    <dt>IOå¯†é›†å‹ä»»åŠ¡ä¼˜åŒ–</dt>
                    <dd>
                        <pre><code>import aiohttp
import asyncio

async def fetch_url(session, url):
    async with session.get(url) as response:
        return await response.text()

async def main():
    async with aiohttp.ClientSession() as session:
        tasks = [
            fetch_url(session, 'https://example.com'),
            fetch_url(session, 'https://python.org')
        ]
        results = await asyncio.gather(*tasks)
        return results

# æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡
loop = asyncio.get_event_loop()
results = loop.run_until_complete(main())</code></pre>
                        <p>âš¡ æ€§èƒ½æå‡ï¼šç›¸æ¯”åŒæ­¥è¯·æ±‚ï¼Œå¹¶å‘é‡æå‡10å€+</p>
                    </dd>
                </dl>

                <h2>ç°ä»£å¼€å‘å®è·µ</h2>
                <h3>ç±»å‹æç¤º</h3>
                <dl>
                    <dt>å‡½æ•°æ³¨è§£ç¤ºä¾‹</dt>
                    <dd>
                        <pre><code>from typing import List, Dict, Union

def process_data(
    data: List[Dict[str, Union[int, str]]],
    threshold: float = 0.5
) -> List[str]:
    # ç±»å‹æ˜ç¡®çš„å¤„ç†é€»è¾‘
    return [item['name'] for item in data if item['score'] > threshold]</code></pre>
                        <p>ğŸ”§ å·¥å…·æ”¯æŒï¼šé…åˆmypyè¿›è¡Œé™æ€ç±»å‹æ£€æŸ¥</p>
                    </dd>
                </dl>

                <h3>è™šæ‹Ÿç¯å¢ƒç®¡ç†</h3>
                <dl>
                    <dt>æ¨èå·¥ä½œæµ</dt>
                    <dd>
                        <pre><code>python -m venv .venv          # åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
source .venv/bin/activate    # Linux/macOSæ¿€æ´»
.venv\Scripts\activate       # Windowsæ¿€æ´»
pip install -r requirements.txt  # å®‰è£…ä¾èµ–
pip freeze > requirements.txt   # å¯¼å‡ºä¾èµ–</code></pre>
                        <p>ğŸ“¦ åŒ…ç®¡ç†ï¼šä½¿ç”¨pip-toolsä¿æŒä¾èµ–é”å®š</p>
                    </dd>
                </dl>

                <h2>å¸¸è§é™·é˜±é¿å…</h2>
                <ul class="warning">
                    <li>âš ï¸ é¿å…åœ¨å¾ªç¯å†…ä¿®æ”¹æ­£åœ¨è¿­ä»£çš„åˆ—è¡¨</li>
                    <li>âš ï¸ è°¨æ…ä½¿ç”¨eval()å‡½æ•°ï¼ˆå­˜åœ¨å®‰å…¨é£é™©ï¼‰</li>
                    <li>âš ï¸ æ³¨æ„æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ï¼ˆæ¨èä½¿ç”¨decimalæ¨¡å—ï¼‰</li>
                    <li>âš ï¸ å¤šçº¿ç¨‹ç¼–ç¨‹æ³¨æ„GILé™åˆ¶ï¼ˆIOå¯†é›†å‹é€‚ç”¨ï¼‰</li>
                </ul>
            </div>
        </div>
    </body>
</html>
